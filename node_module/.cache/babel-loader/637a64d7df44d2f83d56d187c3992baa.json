{"ast":null,"code":"import { uuid, toArray } from './util';\n\nfunction formatCSSText(style) {\n  var content = style.getPropertyValue('content');\n  return \"\".concat(style.cssText, \" content: '\").concat(content.replace(/'|\"/g, ''), \"';\");\n}\n\nfunction formatCSSProperties(style) {\n  return toArray(style).map(function (name) {\n    var value = style.getPropertyValue(name);\n    var priority = style.getPropertyPriority(name);\n    return \"\".concat(name, \": \").concat(value).concat(priority ? ' !important' : '', \";\");\n  }).join(' ');\n}\n\nfunction getPseudoElementStyle(className, pseudo, style) {\n  var selector = \".\".concat(className, \":\").concat(pseudo);\n  var cssText = style.cssText ? formatCSSText(style) : formatCSSProperties(style);\n  return document.createTextNode(\"\".concat(selector, \"{\").concat(cssText, \"}\"));\n}\n\nfunction clonePseudoElement(nativeNode, clonedNode, pseudo) {\n  var style = window.getComputedStyle(nativeNode, pseudo);\n  var content = style.getPropertyValue('content');\n\n  if (content === '' || content === 'none') {\n    return;\n  }\n\n  var className = uuid();\n\n  try {\n    clonedNode.className = \"\".concat(clonedNode.className, \" \").concat(className);\n  } catch (err) {\n    return;\n  }\n\n  var styleElement = document.createElement('style');\n  styleElement.appendChild(getPseudoElementStyle(className, pseudo, style));\n  clonedNode.appendChild(styleElement);\n}\n\nexport function clonePseudoElements(nativeNode, clonedNode) {\n  clonePseudoElement(nativeNode, clonedNode, ':before');\n  clonePseudoElement(nativeNode, clonedNode, ':after');\n}","map":{"version":3,"mappings":"AAAA,SAASA,IAAT,EAAeC,OAAf,QAA8B,QAA9B;;AAIA,SAASC,aAAT,CAAuBC,KAAvB,EAAiD;AAC/C,MAAMC,OAAO,GAAGD,KAAK,CAACE,gBAAN,CAAuB,SAAvB,CAAhB;AACA,mBAAUF,KAAK,CAACG,OAAhB,wBAAqCF,OAAO,CAACG,OAAR,CAAgB,MAAhB,EAAwB,EAAxB,CAArC;AACD;;AAED,SAASC,mBAAT,CAA6BL,KAA7B,EAAuD;AACrD,SAAOF,OAAO,CAASE,KAAT,CAAP,CACJM,GADI,CACA,UAACC,IAAD,EAAS;AACZ,QAAMC,KAAK,GAAGR,KAAK,CAACE,gBAAN,CAAuBK,IAAvB,CAAd;AACA,QAAME,QAAQ,GAAGT,KAAK,CAACU,mBAAN,CAA0BH,IAA1B,CAAjB;AAEA,qBAAUA,IAAV,eAAmBC,KAAnB,SAA2BC,QAAQ,GAAG,aAAH,GAAmB,EAAtD;AACD,GANI,EAOJE,IAPI,CAOC,GAPD,CAAP;AAQD;;AAED,SAASC,qBAAT,CACEC,SADF,EAEEC,MAFF,EAGEd,KAHF,EAG4B;AAE1B,MAAMe,QAAQ,cAAOF,SAAP,cAAoBC,MAApB,CAAd;AACA,MAAMX,OAAO,GAAGH,KAAK,CAACG,OAAN,GACZJ,aAAa,CAACC,KAAD,CADD,GAEZK,mBAAmB,CAACL,KAAD,CAFvB;AAIA,SAAOgB,QAAQ,CAACC,cAAT,WAA2BF,QAA3B,cAAuCZ,OAAvC,OAAP;AACD;;AAED,SAASe,kBAAT,CACEC,UADF,EAEEC,UAFF,EAGEN,MAHF,EAGgB;AAEd,MAAMd,KAAK,GAAGqB,MAAM,CAACC,gBAAP,CAAwBH,UAAxB,EAAoCL,MAApC,CAAd;AACA,MAAMb,OAAO,GAAGD,KAAK,CAACE,gBAAN,CAAuB,SAAvB,CAAhB;;AACA,MAAID,OAAO,KAAK,EAAZ,IAAkBA,OAAO,KAAK,MAAlC,EAA0C;AACxC;AACD;;AAED,MAAMY,SAAS,GAAGhB,IAAI,EAAtB;;AAEA,MAAI;AACFuB,cAAU,CAACP,SAAX,aAA0BO,UAAU,CAACP,SAArC,cAAkDA,SAAlD;AACD,GAFD,CAEE,OAAOU,GAAP,EAAY;AACZ;AACD;;AAED,MAAMC,YAAY,GAAGR,QAAQ,CAACS,aAAT,CAAuB,OAAvB,CAArB;AACAD,cAAY,CAACE,WAAb,CAAyBd,qBAAqB,CAACC,SAAD,EAAYC,MAAZ,EAAoBd,KAApB,CAA9C;AACAoB,YAAU,CAACM,WAAX,CAAuBF,YAAvB;AACD;;AAED,OAAM,SAAUG,mBAAV,CACJR,UADI,EAEJC,UAFI,EAES;AAEbF,oBAAkB,CAACC,UAAD,EAAaC,UAAb,EAAyB,SAAzB,CAAlB;AACAF,oBAAkB,CAACC,UAAD,EAAaC,UAAb,EAAyB,QAAzB,CAAlB;AACD","names":["uuid","toArray","formatCSSText","style","content","getPropertyValue","cssText","replace","formatCSSProperties","map","name","value","priority","getPropertyPriority","join","getPseudoElementStyle","className","pseudo","selector","document","createTextNode","clonePseudoElement","nativeNode","clonedNode","window","getComputedStyle","err","styleElement","createElement","appendChild","clonePseudoElements"],"sources":["../src/clonePseudoElements.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}